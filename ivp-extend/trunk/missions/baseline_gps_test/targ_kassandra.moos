ServerHost = localhost
ServerPort = 9200
Community  = kassandra

MOOSTimeWarp = 10

// MIT Sailing Pavilion
LatOrigin  =  42.358456		
LongOrigin = -71.087589	



  
//------------------------------------------------------------
Processconfig = ANTLER
{
  MSBetweenLaunches = 200
   
  Run = MOOSDB             @ NewConsole = false
  Run = pShare             @ NewConsole = false
  Run = uSimMarine         @ NewConsole = false
  Run = pLogger            @ NewConsole = false
  Run = pNodeReporter      @ NewConsole = false
  Run = pMarinePID_Hover   @ NewConsole = false
  Run = pHelmIvP           @ NewConsole = false
  Run = pHostInfo          @ NewConsole = false
  Run = uFldNodeBroker     @ NewConsole = false
  Run = uFldMessageHandler @ NewConsole = false
  Run = pEchoVar           @ NewConsole = false
  //Run = iAcommsDriver      @ NewConsole = false
}

ProcessConfig = iAcommsDriver
{
    AppTick = 5
    IterateMode = 0

    PortName = $(MODEMPORT)
    ID = $(ACOMMSID)
    
    in_sim = true
    
    PSK_minipackets = false
    enable_ranging = false
    show_range_pulses = true
}

//--------------------------------------------------
// uFldNodeBroker configuration block from plugin

ProcessConfig = uFldNodeBroker
{
  AppTick   = 1
  CommsTick = 1

  TRY_SHORE_HOST = pshare_route=localhost:9001

  BRIDGE = src=VIEW_POLYGON
  BRIDGE = src=VIEW_POINT
  BRIDGE = src=VIEW_SEGLIST
  BRIDGE = src=VIEW_RANGE_PULSE
  BRIDGE = src=ACOMMS_TRANSMITTED
  
  BRIDGE = src=NODE_REPORT_LOCAL,  alias=NODE_REPORT
  BRIDGE = src=NODE_MESSAGE_LOCAL, alias=NODE_MESSAGE
}


//------------------------------------------------------
// uSimMarine Configuration Block  (Created from plugin)

ProcessConfig = uSimMarine
{
  AppTick   = 10
  CommsTic  = 10

  START_POS = 30,-10, 180, 0
  PREFIX    = NAV
}


//---------------------------------------------------------
// pMOOSBridge_KASSANDRA Config Block  (Created from Plugin)

ProcessConfig = pShare
{
  AppTick   = 10
  MaxAppTick = 20
  IterateMode = 1
  
  input = route =  localhost:9201 
}

ProcessConfig = pLogger
{
	AppTick 	= 10
	CommsTick 	= 10

	File		= LOG_KASSANDRA
	PATH		= /home/josh/logs/
	AsyncLog 	= true
	FileTimeStamp = true
	WildCardLogging		= true

	WildCardOmitPattern = PLOGGER_STATUS
}

//--------------------------------------------------------
// pNodeReporter Configuration Block (Created from Plugin)

ProcessConfig = pNodeReporter
{
  AppTick     = 2
  CommsTick   = 2
  
  VESSEL_TYPE = KAYAK
}

ProcessConfig = pMarinePID_Hover
{
	AppTick		= 5
	CommsTick	= 5

	Verbose		= false
	DEPTH_CONTROL	= false
	ACTIVE_START	= true
	MAXRUDDER	= 45
	MAXTHRUST	= 100

	// SPEED_FACTOR
	//	- A non-zero SPEED_FACTOR overrides use of SPEED_PID
	//	- Will set DESIRED_THRUST = DESIRED_SPEED * SPEED_FACTOR
	SPEED_FACTOR	= 30
	// 25-30 for no modem
	// 40 with modem

	// Yaw PID controller
	YAW_PID_KP		= 0.45
	YAW_PID_KD 		= 0
	YAW_PID_KI		= 0
	YAW_PID_INTEGRAL_LIMIT = 0.25
	YAW_PID_TAU		= 1

	// Speed PID controller
	SPEED_PID_KP				= 0.4
	SPEED_PID_KD				= 0.0
	SPEED_PID_KI				= 0.0
	SPEED_PID_INTEGRAL_LIMIT		= 0.07
}
//----------------------------------------------------
// pHelmIvP Configuration Block  (Created from Plugin)

ProcessConfig = pHelmIvP
{
  AppTick    = 4

  ok_skew      = any
  
  Behaviors    = targ_kassandra.bhv  
  Verbose      = true
  Domain       = course:0:359:360
  Domain       = speed:0:5:51
  
//  IVP_BEHAVIOR_DIR = /home/student/moos-ivp-jleight/ivp-extend/trunk/lib
}

//--------------------------------------------------
// pHostInfo configuration block from plugin

ProcessConfig = pHostInfo
{
  AppTick 	= 1
  CommsTick 	= 1

  DEFAULT_HOSTIP = localhost
}

//--------------------------------------------------
// uFldMessageHandler configuration block from plugin

ProcessConfig = uFldMessageHandler
{
  AppTick   = 5
  CommsTick = 5

  STRICT_ADDRESSING = false
}

ProcessConfig = pEchoVar
{
	AppTick   = 40
	MaxAppTick = 100
	IterateMode = 1 // comms driven iterate and mail

	Echo = MOOS_MANUAL_OVERRIDE -> MOOS_MANUAL_OVERIDE
	Echo = GPS_X -> NAV_X
	Echo = GPS_Y -> NAV_Y
	Echo = GPS_SPEED -> NAV_SPEED
	Echo = COMPASS_HEADING_FILTERED -> NAV_HEADING
}



